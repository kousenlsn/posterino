(this.webpackJsonpposterino=this.webpackJsonpposterino||[]).push([[0],{209:function(e,t,a){e.exports=a(426)},425:function(e,t,a){},426:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),o=a(5),s=a.n(o);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var i=a(38),c=a(39),l=a(42),p=a(41),u=a(45),d=a(40),m=a(190),g=a(51),f=a.n(g),y=a(427),h=(a(261),a(262),a(46)),E=a(31),b=a.n(E),C=a(58),v=a(144),O=a.n(v),S="Unable to reach the service, please try again later.";function j(e){return{type:"FETCH_POST_SUCCESS",payload:e}}function k(e){return function(){var t=Object(C.a)(b.a.mark((function t(a){var n;return b.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return a({type:"FETCH_POST_REQUEST"}),t.prev=1,t.next=4,O.a.get("http://jsonplaceholder.typicode.com/posts");case 4:return n=t.sent,t.abrupt("return",a(j({posts:n.data,message:e&&"Successfully updated data."})));case 8:return t.prev=8,t.t0=t.catch(1),t.abrupt("return",a({type:"FETCH_POST_FAILURE",payload:t.t0.response?t.t0.response.data:{message:S}}));case 11:case"end":return t.stop()}}),t,null,[[1,8]])})));return function(e){return t.apply(this,arguments)}}()}function I(e){return{type:"PERSIST_POST_SUCCESS",payload:e}}var w=function(e){return{container:{margin:"0 16px"},pageBreadcrumbsSection:{margin:"16px 0",display:"inline-block"},paperContainer:{padding:24,background:e.paper,minHeight:400,position:"relative"},spinner:{textAlign:"center",paddingTop:50,"& span":{"& i":{backgroundColor:e.primaryColor}}},listEntryContainer:{minWidth:0,"& .ant-list-item-meta-content":{minWidth:0},"& .ant-list-item-meta-title":{overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap"}},title:{fontSize:20},subtitle:{fontSize:15,opacity:.6},description:{color:e.primaryColor,overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap"}}},P=a(52),T=a(433),x=a(197),R=a(432),N=y.a.Content,_=f()(w)((function(e){var t=e.isLoading,a=e.posts,n=e.classes;return r.a.createElement(P.a,{delay:50,duration:[500,0],type:"left"},r.a.createElement(N,{className:n.container,key:"postsList"},r.a.createElement("div",null,r.a.createElement(T.a,{className:n.pageBreadcrumbsSection,separator:">"},r.a.createElement(T.a.Item,null,"Page"),r.a.createElement(T.a.Item,null,"Posts"))),r.a.createElement("div",{className:n.paperContainer},t?r.a.createElement("div",{className:n.spinner},r.a.createElement(x.a,{size:"large"})):r.a.createElement("div",null,r.a.createElement(R.a,{itemLayout:"horizontal",dataSource:a,renderItem:function(e){return r.a.createElement(R.a.Item,{key:e.Id,actions:[r.a.createElement(u.b,{to:"/posts/".concat(e.id,"?edit=true")},"edit")]},r.a.createElement(R.a.Item.Meta,{className:n.listEntryContainer,title:r.a.createElement(u.b,{to:"/posts/".concat(e.id)},r.a.createElement("span",{className:n.title},e.title," \xa0"),r.a.createElement("span",{className:n.subtitle},"post #",e.id)),description:r.a.createElement("div",{className:n.description},e.body)}))}})))))})),L=function(e){Object(l.a)(a,e);var t=Object(p.a)(a);function a(){return Object(i.a)(this,a),t.apply(this,arguments)}return Object(c.a)(a,[{key:"componentDidMount",value:function(){this.props.posts.length<1&&this.props.fetchPosts()}},{key:"render",value:function(){return r.a.createElement(_,{isLoading:this.props.isLoading,posts:this.props.posts})}}]),a}(r.a.Component),M=Object(d.b)((function(e,t){return{isLoading:e.page.fetchCallsInProgress>0,posts:e.posts.entries}}),(function(e){return{fetchPosts:function(){return e(k())}}}))(L),F=a(107),U=a(12),A=a(200),D=a.n(A),H=a(208),B=function(e){return{container:{margin:"0 16px"},headerContainer:{display:"flex"},pageBreadcrumbsSection:{marginTop:16,marginBottom:16,marginRight:16,display:"inline-block",textOverflow:"ellipsis",whiteSpace:"nowrap",overflow:"hidden",flexGrow:1},actionsContainer:{float:"right",display:"flex",margin:"10px 0"},button:{width:"100%",backgroundColor:e.primaryColor,borderColor:e.primaryColor,"&:hover":{backgroundColor:e.primaryColorHover}},paperContainer:{padding:24,background:e.paper,position:"relative"},spinner:{textAlign:"center",paddingTop:50,"& span":{"& i":{backgroundColor:e.primaryColor}}},inputContainer:{marginLeft:12,marginBottom:7,paddingBottom:3},titleContainer:{margin:0,paddingBottom:0},title:{fontSize:20,padding:"4px 11px"},subtitle:{opacity:.6},inputText:{borderTop:"none",borderLeft:"none",borderRight:"none"},inputDisabled:{border:"none",cursor:"default !important",backgroundColor:"white !important",color:e.dark,resize:"none","& input":{border:"none",cursor:"default !important",backgroundColor:"white !important",resize:"none","& span":{display:"none"}}}}},z=a(428),W=a(429),Q=a(112),G=a(431),J=a(434),Y=y.a.Content,$=f()(B)((function(e){var t=e.isLoading,a=e.isPosting,o=e.post,s=e.user,i=e.match,c=e.location,l=e.isEditMode,p=e.toggleEdit,d=e.editChanges,m=e.confirmEdit,g=e.classes,f=Object(n.useState)(!1),y=Object(H.a)(f,2),E=y[0],b=y[1],C=function(e){return{title:(t=e.title,t&&t.length>=3&&t.length<=250),body:function(e){return e&&e.length>=3}(e.body)};var t}(o),v=function(e){return l&&E&&!C[e]};return r.a.createElement(P.a,{delay:50,duration:[500,0],type:"left"},r.a.createElement(Y,{className:g.container,key:"postEntry"},r.a.createElement("div",{className:g.headerContainer},r.a.createElement(T.a,{className:g.pageBreadcrumbsSection,separator:">"},r.a.createElement(T.a.Item,null,"Page"),r.a.createElement(T.a.Item,null,r.a.createElement(u.b,{to:"/"}," Posts ")),r.a.createElement(T.a.Item,null,r.a.createElement(u.b,{to:"/posts/".concat(i.params.postId).concat(c.search||"")},o?o.title:""))),r.a.createElement("div",{className:g.actionsContainer},l&&r.a.createElement(Q.a,{type:"primary",className:g.button,style:{marginRight:10},onClick:function(){Object.keys(C).some((function(e){return!C[e]}))?b(!0):(b(!1),m(o))},disabled:a},"Save"),r.a.createElement(Q.a,{type:"primary",className:g.button,style:{marginRight:10},onClick:function(){p(!l)},disabled:a},l?"Cancel":"Edit"))),r.a.createElement("div",null,t?r.a.createElement("div",{className:g.paperContainer},r.a.createElement("div",{className:g.spinner},r.a.createElement(x.a,{size:"large"}))):r.a.createElement(z.a,{gutter:16},r.a.createElement(W.a,{xs:24,lg:18,style:{paddingBottom:8}},r.a.createElement("div",{className:g.paperContainer},r.a.createElement(G.a,{layout:"vertical"},r.a.createElement(G.a.Item,{className:g.titleContainer,validateStatus:v("title")?"error":"",help:v("title")&&"Title is mandatory, 3 to 100 characters."},l?r.a.createElement(J.a,{placeholder:"Title",value:o.title,onChange:function(e){return d("title",e.target.value)},className:"".concat(g.title," ").concat(l?g.inputText:g.inputDisabled),disabled:!l}):r.a.createElement("span",{className:"".concat(g.title," ").concat(g.inputDisabled)},o.title)),r.a.createElement(G.a.Item,{className:g.inputContainer,validateStatus:v("body")?"error":"",help:v("body")&&"Body is mandatory, at least 3 characters."},r.a.createElement(J.a.TextArea,{autosize:{minRows:1,maxRows:9},placeholder:"Body",value:o.body,onChange:function(e){return d("body",e.target.value)},className:"".concat(l?g.inputText:g.inputDisabled),disabled:!l}))))),r.a.createElement(W.a,{xs:24,lg:6,style:{paddingBottom:8}},r.a.createElement("div",{className:g.paperContainer},r.a.createElement("span",{className:g.subtitle},"Post #",o.id),r.a.createElement("br",null),s&&r.a.createElement(r.a.Fragment,null,"by ",s.name,r.a.createElement("br",null),r.a.createElement("br",null),"@",s.username,r.a.createElement("br",null),s.email,r.a.createElement("br",null),s.address&&"".concat(s.address.city," - ").concat(s.address.zipcode),r.a.createElement("br",null),s.company&&s.company.name))))),r.a.createElement(h.a,{when:l,message:"You may have unsaved changes, are you sure you want to leave?"})))})),q=function(e){Object(l.a)(a,e);var t=Object(p.a)(a);function a(){var e;Object(i.a)(this,a);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(e=t.call.apply(t,[this].concat(r))).state={postForm:null,isEditMode:!1},e.editChanges=function(t,a,n){return e.setState({postForm:Object(U.a)(Object(U.a)({},e.state.postForm),{},Object(F.a)({},t,a))},(function(){return n&&n()}))},e.toggleEdit=function(t){return e.setState({isEditMode:t,postForm:t?Object.assign({},e.props.postEntry):null})},e.saveChanges=function(){var t=Object(C.a)(b.a.mark((function t(a){var n;return b.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.props.savePost(a);case 2:(n=t.sent).payload&&n.payload.post&&e.toggleEdit(!1);case 4:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),e}return Object(c.a)(a,[{key:"componentDidMount",value:function(){var e=this;this.props.postEntry?this.props.fetchOwner(this.props.postEntry.userId).then((function(t){var a=D.a.parse(e.props.location.search,{ignoreQueryPrefix:!0});a.edit&&"true"===a.edit&&e.toggleEdit(!0)})):this.props.history.push("/404")}},{key:"render",value:function(){return r.a.createElement($,{isLoading:this.props.isLoading,isPosting:this.props.isPosting,post:this.state.isEditMode?this.state.postForm:this.props.postEntry||{},user:this.props.userEntry,match:this.props.match,location:this.props.location,isEditMode:this.state.isEditMode,toggleEdit:this.toggleEdit,editChanges:this.editChanges,confirmEdit:this.saveChanges})}}]),a}(r.a.Component),K=Object(d.b)((function(e,t){return{isLoading:e.page.fetchCallsInProgress>0,isPosting:e.page.postCallsInProgress>0,postEntry:e.posts.entries.find((function(e){return e.id===parseInt(t.match.params.postId)})),userEntry:e.posts.userEntry}}),(function(e){return{fetchOwner:function(t){return e((a=t,function(){var e=Object(C.a)(b.a.mark((function e(t){var n;return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t({type:"FETCH_OWNER_REQUEST"}),e.prev=1,e.next=4,O.a.get("http://jsonplaceholder.typicode.com/users/".concat(a));case 4:return n=e.sent,e.abrupt("return",t({type:"FETCH_OWNER_SUCCESS",payload:n.data}));case 8:return e.prev=8,e.t0=e.catch(1),e.abrupt("return",t({type:"FETCH_OWNER_FAILURE",payload:e.t0.response?e.t0.response.data:{message:S}}));case 11:case"end":return e.stop()}}),e,null,[[1,8]])})));return function(t){return e.apply(this,arguments)}}()));var a},savePost:function(t){return e(function(e){return function(){var t=Object(C.a)(b.a.mark((function t(a){return b.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return a({type:"PERSIST_POST_REQUEST"}),t.prev=1,t.next=4,new Promise((function(t){setTimeout((function(){var n=Object.assign({},e,{title:e.title.trim(" ")});t(a(I({post:n,message:"Successfully saved post."})))}),400)}));case 4:return t.abrupt("return",t.sent);case 7:return t.prev=7,t.t0=t.catch(1),t.abrupt("return",a({type:"PERSIST_POST_FAILURE",payload:t.t0.response?t.t0.response.data:{message:S}}));case 10:case"end":return t.stop()}}),t,null,[[1,7]])})));return function(e){return t.apply(this,arguments)}}()}(t))}}}))(q),V=a(203),X=a.n(V),Z=function(){return r.a.createElement(P.a,{delay:50,duration:[500,0],type:"left"},r.a.createElement(X.a,{key:"404",backText:"Perhaps lets go back to the start",type:"404",desc:"Looks like you got lost"}))},ee=r.a.createElement(h.d,null,r.a.createElement(h.b,{exact:!0,path:"/",component:M}),r.a.createElement(h.b,{exact:!0,path:"/posts/:postId",component:K}),r.a.createElement(h.b,{component:Z})),te=a(430),ae=function(e){return{container:{position:"fixed",zIndex:1,width:"100%",height:64,paddingLeft:30,paddingRight:30,backgroundColor:e.dark},flex:{display:"flex",alignItems:"center",color:e.paper},flexRight:{flexGrow:1,textAlign:"right"},icon:{backgroundColor:e.dark,marginRight:5},button:{backgroundColor:e.secondaryColor,borderColor:e.secondaryColor,color:e.paper,"&:hover":{backgroundColor:e.secondaryColorHover,borderColor:e.secondaryColorHover,color:e.paper}}}},ne=f()(ae)((function(e){var t=e.resetData,a=e.isLoading,n=e.classes;return r.a.createElement(P.a,{delay:50,duration:[500,0],type:"top"},r.a.createElement(y.a.Header,{className:n.container,key:"navbar"},r.a.createElement(z.a,{type:"flex",align:"middle",justify:"start",gutter:16,style:{height:"100%"}},r.a.createElement(W.a,{className:n.flex},r.a.createElement(te.a,{className:n.icon,src:"https://icon2.kisspng.com/20180720/jaa/kisspng-text-naruto-sticker-logo-idcard-5b51c236763454.8572265815320847904842.jpg"}),r.a.createElement("div",null,"Posterino")),r.a.createElement(W.a,{className:n.flexRight},r.a.createElement(Q.a,{className:n.button,disabled:a,onClick:t},"Default data")))))})),re=function(e){Object(l.a)(a,e);var t=Object(p.a)(a);function a(){var e;Object(i.a)(this,a);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(e=t.call.apply(t,[this].concat(r))).resetData=function(){e.props.fetchPosts()},e}return Object(c.a)(a,[{key:"render",value:function(){return r.a.createElement(ne,{resetData:this.resetData,isLoading:this.props.isLoading})}}]),a}(r.a.Component),oe=Object(d.b)((function(e,t){return{isLoading:e.page.postCallsInProgress>1||e.page.fetchCallsInProgress>1}}),(function(e){return{fetchPosts:function(){return e(k(!0))}}}))(re),se=a(435);var ie=function(e){Object(l.a)(a,e);var t=Object(p.a)(a);function a(){var e;return Object(i.a)(this,a),(e=t.call(this)).notification=se.a,se.a.config({placement:"bottomRight"}),e}return Object(c.a)(a,[{key:"componentDidUpdate",value:function(e){var t=this,a=this.props.notifications&&this.props.notifications.filter((function(t){return!e.notifications.some((function(e){return e.key===t.key}))})),n=this.props.errors&&this.props.errors.filter((function(t){return!e.errors.some((function(e){return e.key===t.key}))}));a&&a.length>0&&a.forEach((function(e){t.notification.success({key:e.key,message:"Success",description:e.message,onClose:function(){return t.props.clearError(e.key)}})})),n&&n.length>0&&n.forEach((function(e){t.notification.error({key:e.key,message:"Error",description:e.message,duration:3,onClose:function(){return t.props.clearError(e.key)}})}))}},{key:"render",value:function(){return r.a.createElement("div",null)}}]),a}(r.a.Component),ce=Object(d.b)((function(e,t){return{errors:e.page.errorMessages,notifications:e.page.notificationMessages}}),(function(e){return{clearNotification:function(t){return e(function(e){return{type:"CLEAR_NOTIFICATION",payload:{key:e}}}(t))},clearError:function(t){return e(function(e){return{type:"CLEAR_ERROR",payload:{key:e}}}(t))}}}))(ie),le={primaryColor:"#ee7441 !important",primaryColorHover:"#ff9900 !important",secondaryColor:"#42519e !important",secondaryColorHover:"#0c2edf !important",dark:"#0b0b0b !important",paper:"#fff !important"},pe=a(24),ue=a(204),de={posts:{entries:[],userEntry:null},page:{fetchCallsInProgress:0,postCallsInProgress:0,errorMessages:[],notificationMessages:[]}},me=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:de.posts,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"FETCH_POST_SUCCESS":return Object(U.a)(Object(U.a)({},e),{},{entries:t.payload.posts});case"DELETE_POST_SUCCESS":return Object(U.a)(Object(U.a)({},e),{},{entries:e.entries.filter((function(e){return e.id!==t.payload.id}))});case"PERSIST_POST_SUCCESS":return Object(U.a)(Object(U.a)({},e),{},{entries:e.entries.map((function(e){return e.id===t.payload.post.id?t.payload.post:e}))});case"FETCH_OWNER_SUCCESS":return Object(U.a)(Object(U.a)({},e),{},{userEntry:t.payload});default:return e}},ge=a(83);function fe(e){return e.split("_")[0]}function ye(e){return e.split("_").pop()}var he=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:de.page,t=arguments.length>1?arguments[1]:void 0;switch(fe(t.type)){case"FETCH":switch(ye(t.type)){case"REQUEST":return Object(U.a)(Object(U.a)({},e),{},{fetchCallsInProgress:e.fetchCallsInProgress+1});case"SUCCESS":return Object(U.a)(Object(U.a)({},e),{},{fetchCallsInProgress:e.fetchCallsInProgress-1,notificationMessages:t.payload.message&&t.payload.message.length>1?[].concat(Object(ge.a)(e.notificationMessages),[{key:(new Date).toISOString().replace(/-/g,""),message:t.payload.message}]):e.notificationMessages});case"FAILURE":return Object(U.a)(Object(U.a)({},e),{},{fetchCallsInProgress:e.fetchCallsInProgress-1,errorMessages:t.payload.message&&t.payload.message.length>1?[].concat(Object(ge.a)(e.errorMessages),[{key:(new Date).toISOString().replace(/-/g,""),message:t.payload.message,code:t.payload.statusCode}]):e.errorMessages});default:return e}case"PERSIST":switch(ye(t.type)){case"REQUEST":return Object(U.a)(Object(U.a)({},e),{},{postCallsInProgress:e.postCallsInProgress+1});case"SUCCESS":return Object(U.a)(Object(U.a)({},e),{},{postCallsInProgress:e.postCallsInProgress-1,notificationMessages:t.payload.message&&t.payload.message.length>1?[].concat(Object(ge.a)(e.notificationMessages),[{key:(new Date).toISOString().replace(/-/g,""),message:t.payload.message}]):e.notificationMessages});case"FAILURE":return Object(U.a)(Object(U.a)({},e),{},{postCallsInProgress:e.postCallsInProgress-1,errorMessages:t.payload.message&&t.payload.message.length>1?[].concat(Object(ge.a)(e.errorMessages),[{key:(new Date).toISOString().replace(/-/g,""),message:t.payload.message,code:t.payload.statusCode}]):e.errorMessages});default:return e}case"CLEAR":switch(t.type){case"CLEAR_NOTIFICATION":return Object(U.a)(Object(U.a)({},e),{},{notificationMessages:e.notificationMessages.filter((function(e){return e.key!==t.payload.key}))});case"CLEAR_ERROR":return Object(U.a)(Object(U.a)({},e),{},{errorMessages:e.errorMessages.filter((function(e){return e.key!==t.payload.key}))});default:return e}default:return e}},Ee=Object(pe.combineReducers)({posts:me,page:he}),be=(a(421),a(205)),Ce=a(149),ve=a(206),Oe=a.n(ve),Se=a(207),je=a.n(Se),ke={key:"root",storage:Oe.a,stateReconciler:je.a,whitelist:["posts"]},Ie=Object(Ce.a)(ke,Ee);var we=function(e){var t=Object(pe.createStore)(Ie,e,Object(be.composeWithDevTools)(Object(pe.applyMiddleware)(ue.a)));return{store:t,persistor:Object(Ce.b)(t)}}(),Pe=function(e){Object(l.a)(a,e);var t=Object(p.a)(a);function a(){return Object(i.a)(this,a),t.apply(this,arguments)}return Object(c.a)(a,[{key:"render",value:function(){return r.a.createElement(r.a.Fragment,null,r.a.createElement(d.a,{store:we.store},r.a.createElement(m.a,{loading:r.a.createElement("div",null,"loading"),persistor:we.persistor},r.a.createElement(u.a,null,r.a.createElement(g.ThemeProvider,{theme:le},r.a.createElement(y.a,null,r.a.createElement(oe,null),r.a.createElement(y.a,{style:{marginTop:64,height:"calc(100vh - 64px)"}},r.a.createElement(y.a,{style:{overflowY:"auto"}},ee,r.a.createElement(ce,null)),r.a.createElement(y.a.Footer,{style:{textAlign:"center"}},"Posterino \xa92019 Created by GLuersen"))))))),",")}}]),a}(r.a.Component);a(425);s.a.render(r.a.createElement(Pe,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()}))}},[[209,1,2]]]);
//# sourceMappingURL=main.3b731bd2.chunk.js.map